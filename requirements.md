## 로컬맘(LocalMom) 웹서비스 요구사항 정리

- **문서 기준일**: 2025-12-10 (원문: 지오래빗 프로젝트)
- **목표**: 플레이스 운영자(광고주)가 원하는 **트래픽/저장/공유** 데이터를 **불법 프로그램 없이** “리워더 참여”로 제공하는 **리워드 기반 오픈마켓 플랫폼** 구축

---

## 1) 제품 개요

### 1.1 문제 정의
- **트래픽 시장 불투명성**: 대행사의 제공 방식(리워드 vs 불법 SW)을 광고주가 구분 불가
- **과도한 마진**: 광고주 결제 단가 대비 리워더 보상이 낮고, 차액이 중간 마진으로 소모
- **정상 리워드 생태계 부족**: 개인 리워더가 안전하게 크레딧을 벌 수 있는 대안 부족

### 1.2 가치 제안
- **광고주(플레이스 운영자)**:
  - 100% 리워더 기반의 참여 데이터
  - 일일 목표치/기간/예산을 직접 설정하고 투명하게 집행 내역 확인
  - 트래픽/저장/공유 핵심 지표를 구매 가능
- **리워더(개인 사용자)**:
  - 미션 단위 참여로 소액 수익(크레딧) 획득
  - 검증된 미션 제공(사기/불법/고아 미션 방지)
  - 크레딧 적립 및 출금
- **플랫폼(LocalMom)**:
  - 자동화된 미션 생성·분배·검증 시스템
  - 수수료 기반 수익 모델 + 장기적으로 예측/추천 알고리즘 고도화

---

## 2) 사용자/권한(역할) 모델

### 2.1 역할
- **게스트(Guest)**: 랜딩/소개, 회원가입/로그인, 약관 열람
- **광고주(Advertiser)**: 플레이스 등록/선택, 캠페인 생성·집행·대시보드, 결제/지출, 계정/알림
- **리워더(Rewarder)**: 미션 탐색/시작/수행/인증, 참여내역, 크레딧/출금, 신뢰도/레벨, 계정/알림
- **관리자(Admin)**: 캠페인/리워더 모니터링, 부정 탐지, 정산 승인, 신고 처리, 시스템 설정

### 2.2 권한 기본 원칙
- **광고주 데이터는 광고주 본인만 조회/수정** (팀 기능은 추후 확장)
- **리워더의 개인/정산 정보는 본인만 조회/수정**
- **관리자는 운영 목적 범위 내에서만 접근**(감사로그 필수)

---

## 3) 정보구조(IA) 요구사항

### 3.1 공통/게스트 영역
- **G0. 랜딩/소개**
  - G0-1 서비스 소개
  - G0-2 지오래빗 철학(불법 트래픽과 차별점)
  - G0-3 사용 방법(광고주/리워더)
  - G0-4 단가·수수료 구조 개요
- **G1. 회원가입/로그인**
  - G1-1 역할 선택(광고주/리워더)
  - G1-2 이메일/소셜 로그인
  - G1-3 약관 동의(이용약관/개인정보/리워더 행동 가이드)

### 3.2 광고주 영역
- **A. 광고주 대시보드(요약 홈)**
  - 진행 중 캠페인 수, 오늘 목표 vs 실제(트래픽/저장/공유), 오늘 소진/잔여 예산
  - 최근 7일 성과 그래프
  - 경고/알림(예산 부족, 소진 속도 이상, 종료 예정)
- **B. 캠페인 관리**
  - B1 캠페인 리스트(상태/유형/기간/일일 목표/누적 수행량/편집·복제·중지)
  - B2 캠페인 생성/편집 플로우(플레이스 선택/등록, 목표/미션 구성, 기간, 단가·예산, 검수, 시작)
  - B3 캠페인 상세 리포트(일별 수행량/참여자 수/패턴/비정상 감지)
- **C. 결제·정산**
  - C1 크레딧/예산 충전(수단 관리, 충전 내역)
  - C2 지출 내역(캠페인별/월별 리포트)
- **D. 계정 관리**
  - 광고주 정보, 플레이스 관리(여러 매장), 팀 계정(추후), 알림 설정

### 3.3 리워더 영역
- **R. 리워더 대시보드(홈)**
  - 오늘 가능한 미션 수, 오늘 수행/수익, 누적 크레딧/출금 가능 금액, 공지/제재 알림
- **R2 미션 탐색**
  - R2-1 오늘의 미션(필터: 유형/거리(추후)/시간/리워드)
  - R2-2 미션 상세(설명/단계/제한조건/리워드/예상 시간/시작하기)
  - R2-3 내 참여 내역(진행/검수대기/완료/반려 사유)
- **R3 리워드/정산**
  - 크레딧 내역, 출금 내역, 출금 신청, 정산 정책 안내(최소금액/가능일/세금(추후))
- **R4 계정**
  - 프로필, 신뢰도/레벨(점수/경고 이력), 알림 설정

### 3.4 관리자(Admin) 영역(요약)
- **M1** 전체 캠페인 모니터링
- **M2** 리워더 활동 모니터링
- **M3** 부정 사용 탐지 패널
- **M4** 정산 관리(광고주 과금, 리워더 출금 승인)
- **M5** 신고 관리
- **M6** 시스템 설정(단가 범위, 블랙리스트 IP/디바이스 등)

---

## 4) 핵심 도메인 정의

### 4.1 지표(상품) 타입
- **트래픽(방문)**: 플레이스 상세 페이지 방문/체류 등
- **저장하기**: 플레이스 “저장됨” 상태 전환
- **공유하기**: “링크 복사” 등 공유 행동 발생

### 4.2 캠페인 vs 미션
- **캠페인(Campaign)**: 광고주가 구매/집행하는 단위(기간, 일일 목표, 예산, 단가, 유형)
- **미션(Mission)**: 리워더가 실제 수행하는 단위(캠페인에서 일별 물량으로 분해되어 배포)

---

## 5) 기능 요구사항(FR)

### 5.1 공통
- **FR-COM-01 회원가입/로그인**
  - 역할 선택(광고주/리워더)을 포함해야 함
  - 약관 동의 흐름이 있어야 함(이용약관/개인정보/리워더 행동 가이드)
- **FR-COM-02 알림**
  - 최소: 서비스 공지, 주요 상태 변경 알림(캠페인/검수/정산/제재)
  - 채널은 추후 확장 가능하나, IA에 명시된 이메일/카톡 등 설정 항목을 고려해야 함

### 5.2 광고주(Advertiser)

#### 캠페인 생성/편집
- **FR-ADV-01 플레이스 등록/선택**
  - 광고주는 1개 이상 플레이스를 등록/관리할 수 있어야 함
- **FR-ADV-02 캠페인 생성**
  - 입력: 캠페인명, 플레이스, 목표(노출 상승/유지/집중 등), 미션 유형(트래픽/저장/공유), 일일 목표 수량, 기간(시작/종료), 단가
  - 출력: 총 예산 계산 결과(일일 목표×기간×단가 기반) 및 요약
- **FR-ADV-03 단가 제안**
  - 시스템은 시세 범위 및 추천 단가를 제시할 수 있어야 함(정책/설정 기반)
- **FR-ADV-04 리워더 보상 자동 계산**
  - 캠페인 단가와 내부 정책(수수료/보상비율)에 따라 리워더 보상을 계산/표시해야 함
- **FR-ADV-05 정책 위반 체크(검수)**
  - 캠페인 시작 전 “정책 위반 여부 체크” 단계가 있어야 함(관리자 룰/자동 룰)
- **FR-ADV-06 캠페인 ON/OFF**
  - 광고주는 캠페인을 일시중지/재개/종료할 수 있어야 함
- **FR-ADV-07 복제**
  - 기존 캠페인을 복제하여 빠르게 재집행할 수 있어야 함

#### 대시보드/리포트
- **FR-ADV-08 요약 대시보드**
  - 전체 현황 카드(진행 중 캠페인 수, 오늘 목표 vs 실제, 오늘 소진/잔여 예산)
  - 최근 7일 그래프(최소: 일별 수행량)
  - 경고/알림(예산 부족, 소진 속도 이상, 종료 예정)
- **FR-ADV-09 캠페인 상세 리포트**
  - 일별 수행량(유형별), 참여 리워더 수, 시간대/요일 패턴
  - 비정상 패턴 감지 여부 및 알림 표시
- **FR-ADV-10 리포트 다운로드**
  - 캠페인 성과를 다운로드할 수 있어야 함(형식은 추후 결정)

#### 결제/지출
- **FR-ADV-11 충전(예산)**
  - 결제 수단 관리(카드/계좌 등)
  - 충전 내역 조회
- **FR-ADV-12 지출 내역**
  - 캠페인별 사용 금액 및 월별 지출 리포트 제공

### 5.3 리워더(Rewarder)

#### 미션 탐색/참여
- **FR-RWD-01 미션 리스트(오늘 가능한 미션)**
  - 리스트는 최소 다음을 표시해야 함:
    - 플레이스 이름, 미션 타입, 1회 리워드 금액, 남은 수량/오늘 총 수량, 난이도, 예상 수행 시간
  - 필터: 미션 유형(트래픽/저장/공유), (추후)거리, 예상 시간/리워드
- **FR-RWD-02 미션 상세**
  - 미션 설명, 단계별 수행 방법, 제한 조건, 리워드, 예상 시간, 참여 제한, 이전 참여 기록 표시
- **FR-RWD-03 미션 시작(슬롯 확보)**
  - “미션 시작하기” 시 참여 슬롯을 확보해야 하며, 확보 실패 시 사유를 제공해야 함(수량 소진/제한/제재 등)
- **FR-RWD-04 외부 행동 유도(링크)**
  - “검색하러 가기/링크 열기” 등 미션 수행을 위한 외부 링크를 제공해야 함
- **FR-RWD-05 인증 제출**
  - 미션 유형별 인증 방식(스크린샷 업로드/로그 기반)을 제공해야 함
- **FR-RWD-06 검수 상태**
  - 내 참여 내역에서 상태를 구분해 보여줘야 함(진행/검수대기/완료/반려)
  - 반려 시 사유 제공

#### 보상/정산
- **FR-RWD-07 크레딧 적립**
  - 승인된 미션에 대해 크레딧이 적립되어야 함
  - 적립 내역(미션별)이 조회 가능해야 함
- **FR-RWD-08 출금 계좌 등록/관리**
- **FR-RWD-09 출금 신청**
  - 최소 출금 금액 안내
  - 출금 내역 조회
  - (추후) 자동 출금 지원 가능하도록 정책 확장성 확보

#### 신뢰도/레벨
- **FR-RWD-10 레벨/경험치**
  - 승인 시 경험치/레벨 점수가 반영되어야 함
  - 경고/제재 이력 노출

### 5.4 운영/관리자(Admin)
- **FR-ADM-01 캠페인 모니터링**
  - 전체 캠페인 진행률/소진률/예산 이상징후를 모니터링
- **FR-ADM-02 리워더 모니터링**
  - 참여량/승인률/반려율/이상 패턴을 모니터링
- **FR-ADM-03 부정 사용 탐지/제재**
  - 의심 신호 기반 탐지(속도/중복/로그 불일치 등)
  - 제재(경고/일시정지/영구정지 등) 및 해제
- **FR-ADM-04 정산 관리**
  - 리워더 출금 요청의 승인/반려/보류 처리
  - (필요 시) 광고주 과금/환불/정산 관리
- **FR-ADM-05 신고 관리**
  - 광고주/리워더 신고 접수/처리/이력 관리
- **FR-ADM-06 시스템 설정**
  - 단가 범위, 보상/수수료 정책, 블랙리스트(IP/디바이스), 기타 운영 파라미터

---

## 6) 미션 프로세스/시나리오 요구사항(검증 포함)

### 6.1 공통 프로세스
- **가입/로그인 → 미션 탐색 → 미션 수락(슬롯) → 수행 → 인증 → 검수(자동/수동) → 승인 시 크레딧 적립(+경험치) → 출금**

### 6.2 시나리오 1: 방문하기(트래픽)
- **요구 동작**:
  - 네이버에서 특정 키워드로 검색 → 플레이스 상세 페이지 클릭 → **5초 이상 체류**
- **인증 제출**:
  - 플레이스 상단 특정 영역 스크린샷 업로드(예: 영업중/리뷰수 영역)
- **검증(자동+반자동)**:
  - 링크 클릭 로그 확인
  - 체류 시간 체크(5초 미만이면 실패)
  - 스크린샷 OCR로 플레이스명 확인
  - 동일 이미지 중복 제출 자동 반려
- **제약**:
  - 제한시간(예: 3분) 내 인증 제출

### 6.3 시나리오 2: 저장하기
- **요구 동작**:
  - 플레이스 페이지에서 “저장” 클릭 → 저장됨 UI 상태 확인(예: 파란색)
- **인증 제출**:
  - 저장됨 상태가 보이는 화면 캡처 업로드
- **검증**:
  - OCR/이미지 인식으로 “저장됨” UI 확인
  - 이전 동일 플레이스 저장 경험 여부 체크(정책에 따라 제한/패널티)
  - 저장 클릭 이후 체류 시간 기록
  - 동일 IP 반복 저장 방지

### 6.4 시나리오 3: 공유하기
- **요구 동작**:
  - 공유 버튼 → 링크 복사 선택 → “링크가 복사되었습니다” 팝업 확인
- **인증 제출**:
  - 팝업 캡처 업로드
- **검증**:
  - OCR로 팝업 문구 확인
  - 링크 방문/클릭 로그 확인
  - 너무 빠른 연속 수행 시 패널티

---

## 7) 분배/수량/정책(비즈니스 룰) 요구사항

### 7.1 물량 분해 및 배포
- **BR-01 일별 물량 분해**
  - 캠페인(기간/일일 목표)은 “일 단위 미션 물량”으로 분해되어 배포되어야 함
- **BR-02 남은 수량 관리**
  - 리워더에게는 “남은 수량/오늘 총 수량”이 표시되어야 함
- **BR-03 소진률/속도 모니터링**
  - 광고주에게 일일 소진률을 표시하고, 이상 소진 속도를 경고해야 함

### 7.2 가격/보상/수익모델
- **BR-04 단가/보상 분리**
  - 광고주 단가(예: 40~60원/타)와 리워더 보상(예: 10~20원)을 분리 관리해야 함
- **BR-05 수수료**
  - 플랫폼 수수료는 (광고주 단가 - 리워더 보상) 구조를 기본으로 함
- **BR-06 추천 단가**
  - 시세 범위 + 추천 단가를 시스템 설정으로 관리 가능해야 함

### 7.3 제한/패널티/제재
- **BR-07 참여 제한**
  - “1인 1일 참여 제한”, “IP 제한 여부” 등 미션별 제한 조건을 지원해야 함
- **BR-08 타임아웃**
  - 미션별 제한시간 내 수행/인증 완료가 없으면 실패 처리
- **BR-09 부정 참여 패널티**
  - 연속 과속 수행, 동일 이미지 중복, 로그 불일치 등은 자동 반려/패널티 대상으로 처리
- **BR-10 레벨링**
  - 우수 참여자를 우선 배정할 수 있도록 레벨/신뢰도 점수 기반 분배 정책을 지원해야 함

---

## 8) 데이터 요구사항(초안)

### 8.1 핵심 엔티티(제안)
- **User**
  - id, role(ADVERTISER/REWARDER/ADMIN), email/social, status, created_at
- **AdvertiserProfile**
  - user_id, 사업/정산 정보(추후), 알림 설정
- **RewarderProfile**
  - user_id, level, trust_score, warning_count, 제재 상태, 알림 설정
- **Place**
  - id, advertiser_id, name, 외부 식별자(예: 네이버 플레이스), 상태
- **Campaign**
  - id, advertiser_id, place_id, name, mission_types, daily_target, start_date, end_date, unit_price, reward_price, budget_total, budget_remaining, status(ON/OFF/ENDED), created_at
- **Mission(Instance)**
  - id, campaign_id, mission_type, date(집행일), reward_amount, quota_total, quota_remaining, constraints(1인1일/IP 등), status
- **Participation**
  - id, mission_id, rewarder_id, started_at, expires_at, submitted_at, status(IN_PROGRESS/PENDING_REVIEW/APPROVED/REJECTED/EXPIRED), failure_reason
- **VerificationEvidence**
  - id, participation_id, type(SCREENSHOT/LOG), file_ref, ocr_text, metadata
- **VerificationResult**
  - id, participation_id, auto_result, manual_result, signals, decided_by, decided_at
- **CreditLedger**
  - id, rewarder_id, amount(+/-), reason(MISSION_REWARD/REVERSAL/PAYOUT), ref_id, created_at
- **PayoutRequest**
  - id, rewarder_id, amount, bank_account_ref, status(REQUESTED/APPROVED/REJECTED/PAID), decided_at
- **Payment/TopUp**
  - id, advertiser_id, amount, method, status, created_at
- **FraudSignal**
  - id, rewarder_id, participation_id, signal_type(DUP_IMAGE/FAST/LOG_MISMATCH/IP_REPEAT 등), severity, created_at
- **Blacklist**
  - id, type(IP/DEVICE), value, reason, active
- **Notification**
  - id, user_id, channel, type, payload, read_at, created_at

### 8.2 상태/정합성 원칙
- 캠페인 예산/잔여 예산/일별 소진은 원장 또는 트랜잭션 기준으로 일관되게 계산되어야 함
- 참여(Participation)는 상태 전이가 명확해야 함(시작→제출→검수→승인/반려 또는 타임아웃)
- 중복 이미지 판별, OCR 결과, 로그 데이터는 검증 근거로 저장되어야 함(감사/분쟁 대응)

---

## 9) 비기능 요구사항(NFR)

### 9.1 보안/프라이버시
- 개인정보/정산정보 접근 통제(역할 기반 + 관리자 감사로그)
- 업로드 파일(스크린샷) 저장/전송 시 보안(권한 분리, 만료 URL 등)
- 부정 방지를 위한 디바이스/IP 처리 시 개인정보 이슈를 고려한 정책/고지 필요

### 9.2 신뢰성/감사(운영)
- 검수/정산/제재 등 중요한 의사결정 이벤트는 **감사로그**로 남겨야 함
- 데이터 변경 이력(정산 상태 변경, 반려 사유 등) 추적 가능해야 함

### 9.3 관측성
- 캠페인 소진률, 승인률, 반려율, 부정 탐지 건수, 출금 처리 리드타임 등 핵심 지표 모니터링

---

## 10) MVP 범위 및 로드맵

### 10.1 MVP(1차)
- **광고주**: 회원가입/결제(충전), 캠페인 생성(최소 트래픽 1종), 일일 목표 입력, 대시보드(진행률/통계)
- **리워더**: 미션 리스트, 미션 수행/인증, 크레딧 적립/출금
- **플랫폼**: 미션 자동분배, 인증 데이터 검증, 크레딧 지급 로직
- **권장 시작점**: “트래픽 미션 1종”만으로 베타 검증

### 10.2 Phase 로드맵
- **Phase 1 (Beta)**: 트래픽 단일 기능, 구조 검증, 부정 패턴 데이터 수집
- **Phase 2 (Full Launch)**: 저장/공유 추가, 모바일 앱, 레벨링, 성과 예측
- **Phase 3 (Scale-Up)**: 파트너/에이전시 입점, 업종별 추천 모델, 글로벌 확장 검토

---

## 11) 결정 필요/오픈 이슈(필수 확인)

- **단가/보상/수수료 정책**: 유형별 최소/최대 단가, 보상 비율, 수수료 고정/가변 여부
- **결제/정산 수단**: 결제 PG/계좌이체, 출금 처리 방식(자동/수동) 및 정산 주기
- **인증 방식의 기술 범위(MVP)**:
  - 로그 추적(딥링크/리다이렉트/SDK) 범위
  - OCR 정확도 기준 및 실패 시 처리(수동검수/재제출)
- **부정 방지 정책**: 1인 1일 제한, IP/디바이스 제약, 동일 플레이스 반복 참여 허용 기준
- **팀 계정**: 광고주 직원 초대/권한은 언제 포함할지(추후로 명시됨)


